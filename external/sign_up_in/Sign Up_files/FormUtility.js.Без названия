var Devart;!function(t){var e;!function(t){var e=function(){function t(){}return t.checkAndLoadForm=function(t,e){if(e){var r=$(t);r.length>0&&$(document).ready(function(){e()})}},t.initializeSubmitForm=function(e,r,n,o){var a=$(r),i=$(r+" .form-content"),s=$(r+" .form-content-error");a.on("submit",function(r){r.preventDefault();var d=a.find('button[type="submit"]'),l=a.closest("section"),f=l.find(".loading-indicator");if(a.validate(),a.valid()){var c=new FormData(this),u=new XMLHttpRequest;d.attr("disabled","disabled"),f&&f.removeClass("invisible"),o=o||t.defaultErrorCallback,u.open("post",a.attr("action")),u.onload=function(r){200===u.status&&4===u.readyState?(i.html(u.response),n&&n(e,u.response)):o&&o(e,r,t.getErrorTextFromResponse(u),s),d.removeAttr("disabled"),f&&f.addClass("invisible")},u.onerror=function(r){o&&o(e,r,t.getErrorTextFromResponse(u),s),d.removeAttr("disabled"),f&&f.addClass("invisible")},u.send(c)}}),$('a[role="tab"]').on("click",function(t){var e=$(t.currentTarget).attr("href"),r=$(e).find("div.form-content-error");r.addClass("hidden")})},t.getErrorTextFromResponse=function(t){return!t.response||t.response.startsWith("<!DOCTYPE html>")?t.statusText:t.response},t.defaultErrorCallback=function(t,e,r,n){var o=r;if(!o&&e instanceof ErrorEvent&&(o=e.error),console.log(o),n.length>0){var a=n.find("ul.form-ajax-error li");if(0===a.length){var i=$("<ul>");i.addClass("form-ajax-error"),i.appendTo(n),a=$("<li>"),a.appendTo(i)}a.text(o),n.removeClass("hidden")}},t}();t.FormUtility=e}(e=t.Identity||(t.Identity={}))}(Devart||(Devart={}));